#cpp17 #std_variant  (https://www.youtube.com/watch?v=qCc_Vqg3hJk)
`variant` хранение в одной переменной данные разного типа. По сути просто позволяет не задумываться о типе данных, обозначив – какие типы данных это может быть в будущем. 
```c++
std::variant<std::string, int> data;
int val = std::get<int>(data);
```
Однако, использование не верного типа данных может привести к ошибки. Для проверки можно использовать метод `data.index()`, в конкретном примере вернет `0`, если тип `std::string`, и `1`, если `int`.
Есть более элегантный метод, `std::get_if`, которые возвращает указатель, если тип данных корректный. 
```c++
std::variant <std::string, int> data;
data = 5;
if (auto value = std::get_if<int>(&data))
{
    // safe
}
```
[[Union]] резервируют в памяти под тип данных, которые имеет больший размер, когда `std::variant` ~~делают сумму указанных типов данных~~.  В итоге занимаем больше памяти, но получаем более безопасное решение.
> `std::variant` не суммирует размеры указанных типов, он так же использует размер большего размера, но добавляет еще небольшой оверхед, сравнимый с tagged union: структура, которая хранит tag (обычно в виде enum) текущего используемого типа и самого union для хранения типа. 